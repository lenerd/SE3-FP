#!/usr/bin/env racket
#lang racket

; SE3 FP Übungsblatt 2
; Gruppe 14 (Do. 10-12 Uhr R-031) bei David Mosteller
; Jan-Hendrik Briese, Lennart Braun, Felix Gebauer
; Aufgabe 2.3 Die Eulerzahl e


(require "./2.1_die_fakultaet_einer_zahl.rkt")
(require "./2.2_potenzen_von_rationalzahlen.rkt")

(define (euler-helper n)
        (/ n (factorial (- n 1))))

(define (euler-iter sum n acc)
        (let ((val (euler-helper n)))
             (if (< val acc) sum
                 (euler-iter (+ sum val) (+ n 1) acc))))

; Berechnet e mit der gewünschten Genauigkeit.
(define (euler accuracy)
        (/ (euler-iter 0 1 accuracy) 2))

; Rechnet eine Anzahl an Dezimalstellen in eine entsprechende Rationalzahl um.
(define (decimal-places->accuracy n)
        (power (/ 1 10) n))

; (round (* (expt 10 1001) (euler (decimal-places->accuracy 1000))))
; => e ≈ 2.71828182845904523536028747135266249775724709369995957496696762772407
; 66303535475945713821785251664274274663919320030599218174135966290435729003342
; 95260595630738132328627943490763233829880753195251019011573834187930702154089
; 14993488416750924476146066808226480016847741185374234544243710753907774499206
; 95517027618386062613313845830007520449338265602976067371132007093287091274437
; 47047230696977209310141692836819025515108657463772111252389784425056953696770
; 78544996996794686445490598793163688923009879312773617821542499922957635148220
; 82698951936680331825288693984964651058209392398294887933203625094431173012381
; 97068416140397019837679320683282376464804295311802328782509819455815301756717
; 36133206981125099618188159304169035159888851934580727386673858942287922849989
; 20868058257492796104841984443634632449684875602336248270419786232090021609902
; 35304369941849146314093431738143640546253152096183690888707016768396424378140
; 59271456354906130310720851038375051011574770417189861068739696552126715468895
; 703503537
